# NIP-40

## 过期时间戳

`draft` `optional` `author:0xtlt`

`expiration` 标签使用户能够指定一个 unix 时间戳，在这个时间戳上，信息**应该**被认为是过期的（由中继器和客户端）并且**应该**通过中继器被删除。

#### 规范

```
tag: expiration
values:
 - [UNIX timestamp in seconds]: required
```

#### 例子

```json
{
    "pubkey": "<pub-key>",
    "created_at": 1000000000,
    "kind": 1,
    "tags": [
      ["expiration", "1600000000"]
    ],
    "content": "This message will expire at the specified timestamp and be deleted by relays.\n",
    "id": "<event-id>"
}
```

注意：时间戳的格式应与`creative_at` 时间戳相同，并应被解释为信息应被中继器删除的时间。

## 客户端行为

客户端**应该**使用 `supported_nips` 字段了解中继器是否支持该 NIP。客户端**不应该**发送过期事件到不支持该 NIP 的中继器。

客户端**应该**忽略已经过期的事件。

## 中继器行为

中继器**不可以**立即删除一个过期信息并且**可能**无限期的保存它们。
中继器**不应该**发送过期事件给客户端，即使他们是被保存的。
中继器**应该**丢弃任何已经过期但还被推送的事件
一个过期时间戳不会影响短期事件的存储。

## 用例建议

- 临时公告 - 此标签可用于发布临时公告。例如，活动组织者可以使用这个标签来发布关于即将举行的活动的公告。
- 限时优惠 - 企业可以使用这个标签来发布在一定时间后失效的限时优惠。例如，一个企业可以使用这个标签来提供一个只在有限时间内可用的特别优惠。

#### 警告

事件可能被第三方下载，因为它们在中继器上一直是公开的。因此，不要把过期的信息看作是你的对话或其他用途的安全功能。

